[package]
name = "muuk"
version = "1.0.0"

[library.muuk]
include = ["include", "modules/glob/include"]
lflags = ["/std:c++20", "/utf-8", "/EHsc"]
libflags = ["/std:c++20", "/utf-8", "/EHsc"]
sources = [
    "src/muuk.cpp",
    "src/util.cpp",
    "src/logger.cpp",
    "src/muukfiler.cpp",
    "src/muukbuilder.cpp",
    "src/ninjagen.cpp",
    "src/muuklockgen.cpp",
    "modules/glob/src/glob.cpp",
]

[library.muuk.dependencies]
spdlog = "v1.15.1"
zip = "v0.3.3"
json = "v3.11.3"
argparse = "v3.2"

[build.bin]
dependencies = { "muuk" = "v1.0.0" }
sources = ["src/main.cpp"]

[build.test]
dependencies = { "muuk" = "v1.0.0", "googletest" = "v1.15.2" }
sources = ["tests/internal/muuk_test.cpp"]
executable = "muuk_tests"
include = []

[clean]
patterns = ["*.obj", "*.lib", "*.pdb"]
